@tailwind base;
@tailwind components;
@tailwind utilities;

/* KaTeX CSS Import */
@import 'katex/dist/katex.css';

/* Custom CSS Variables */
:root {
  --font-inter: 'Inter', system-ui, sans-serif;
  --font-mono: 'JetBrains Mono', Monaco, Consolas, monospace;
  --font-mathematical: 'KaTeX_Main', 'Times New Roman', serif;
  
  /* Academic Color Palette - Professional & Accessible */
  --ce-primary: 59 130 246; /* primary-500 (Deep Navy) */
  --ce-secondary: 148 163 184; /* secondary-400 (Refined Gray) */
  --ce-accent: 16 185 129; /* accent-500 (Sophisticated Emerald) */
  --ce-mathematical: 217 119 6; /* mathematical-600 (Deep Amber) */
  
  /* Surface Colors */
  --surface-light: 248 250 252; /* slate-50 */
  --surface-white: 255 255 255; /* white */
}

/* Dark mode color adjustments */
.dark {
  --ce-primary: 30 58 138; /* primary-900 (Deep Navy) */
  --ce-secondary: 71 85 105; /* secondary-600 (Refined Gray) */
  --ce-accent: 5 150 105; /* accent-600 (Sophisticated Emerald) */
  --ce-mathematical: 180 83 9; /* mathematical-700 (Deep Amber) */
  
  /* Surface Colors */
  --surface-light: 30 41 59; /* slate-800 */
  --surface-white: 15 23 42; /* slate-900 */
}

/* Base Styles */
@layer base {
  html {
    scroll-behavior: smooth;
  }
  
  body {
    @apply text-slate-900 dark:text-slate-100;
    font-feature-settings: "rlig" 1, "calt" 1;
  }
  
  /* Mathematical Formula Styling */
  .katex {
    font-size: 1.1em;
  }
  
  .katex-display {
    margin: 1em 0;
    text-align: center;
  }
  
  /* Code Styling */
  code {
    @apply bg-slate-100 dark:bg-slate-800 px-1 py-0.5 rounded text-sm font-mono;
  }
  
  pre code {
    @apply bg-transparent px-0 py-0;
  }
  
  /* Heading Styling */
  h1, h2, h3, h4, h5, h6 {
    @apply font-semibold tracking-tight;
  }
  
  h1 { @apply text-3xl lg:text-4xl; }
  h2 { @apply text-2xl lg:text-3xl; }
  h3 { @apply text-xl lg:text-2xl; }
  h4 { @apply text-lg lg:text-xl; }
}

/* Component Styles */
@layer components {
  /* Progressive Loading Components */
  .progressive-loading-enter {
    @apply opacity-0 transform scale-95;
    animation: progressiveLoad 0.8s ease-in-out forwards;
  }
  
  .progressive-loading-exit {
    @apply opacity-100 transform scale-100;
    animation: progressiveLoad 0.8s ease-in-out reverse;
  }
  
  /* Cognitive Flow Animation - Disabled for performance */
  .cognitive-flow {
    /* animation: cognitiveFlow 2s ease-in-out infinite; */
  }
  
  /* Mathematical Emphasis */
  .mathematical-emphasis {
    @apply text-mathematical-600 dark:text-mathematical-700 font-mathematical;
  }
  
  /* Principle Card Styling - Academic */
  .principle-card {
    @apply bg-white dark:bg-slate-800 rounded-xl border border-slate-200 dark:border-slate-700 
           shadow-md hover:shadow-lg transition-all duration-200 hover:border-primary-300 dark:hover:border-primary-600;
  }
  
  .principle-card-header {
    @apply p-4 border-b border-slate-200 dark:border-slate-700;
  }
  
  .principle-card-content {
    @apply p-8;
  }
  
  /* Command Interface Styling */
  .command-interface {
    @apply bg-slate-900 dark:bg-slate-950 text-green-400 font-mono text-base 
           rounded-xl p-6 overflow-x-auto shadow-2xl border border-slate-700;
  }
  
  .command-prompt {
    @apply text-blue-400;
  }
  
  .command-output {
    @apply text-slate-300;
  }
  
  /* Navigation Styling - Academic */
  .nav-link {
    @apply text-secondary-700 dark:text-secondary-200 hover:text-primary-600 dark:hover:text-primary-400 
           transition-all duration-300 font-semibold hover:bg-slate-50 dark:hover:bg-slate-800
           rounded-xl px-4 py-3 hover:shadow-lg;
  }
  
  .nav-link-active {
    @apply text-white font-bold bg-primary-600 dark:bg-primary-700 shadow-lg shadow-primary-500/30;
  }
  
  /* Breadcrumb Styling */
  .breadcrumb {
    @apply flex items-center space-x-2 text-sm text-slate-500 dark:text-slate-400;
  }
  
  .breadcrumb-separator {
    @apply text-slate-300 dark:text-slate-600;
  }
  
  /* Loading States */
  .loading-skeleton {
    @apply bg-slate-200 dark:bg-slate-700 animate-pulse rounded;
  }
  
  .loading-spinner {
    @apply animate-spin rounded-full border-2 border-slate-200 border-t-primary-600;
  }
}

/* Utility Classes */
@layer utilities {
  /* Text Utilities */
  .text-balance {
    text-wrap: balance;
  }
  
  /* Focus Utilities */
  .focus-ring {
    @apply focus:outline-none focus:ring-2 focus:ring-primary-500 focus:ring-offset-2 
           dark:focus:ring-offset-slate-800;
  }
  
  /* Academic Gradient Utilities */
  .gradient-primary {
    background: linear-gradient(135deg, #3b82f6 0%, #1e3a8a 100%);
  }
  
  .gradient-mathematical {
    background: linear-gradient(135deg, #10b981 0%, #d97706 100%);
  }
  
  .gradient-hero-modern {
    background: linear-gradient(135deg, 
      rgba(59, 130, 246, 0.1) 0%,
      rgba(148, 163, 184, 0.05) 50%,
      rgba(16, 185, 129, 0.1) 100%);
  }
  
  .gradient-hero {
    background: linear-gradient(135deg, 
      rgba(59, 130, 246, 0.15) 0%,
      rgba(148, 163, 184, 0.1) 50%,
      rgba(16, 185, 129, 0.15) 100%);
  }
  
  .gradient-card {
    background: linear-gradient(135deg, 
      rgba(255, 255, 255, 0.95) 0%,
      rgba(248, 250, 252, 0.95) 50%,
      rgba(241, 245, 249, 0.95) 100%);
  }
  
  .dark .gradient-card {
    background: linear-gradient(135deg, 
      rgba(30, 41, 59, 0.95) 0%,
      rgba(15, 23, 42, 0.95) 50%,
      rgba(2, 6, 23, 0.95) 100%);
  }
  
  /* Animation Utilities */
  .animate-fade-in {
    animation: fadeIn 0.5s ease-in-out;
  }
  
  .animate-slide-in {
    animation: slideIn 0.3s ease-out;
  }
  
  .animate-progressive-load {
    animation: progressiveLoad 0.8s ease-in-out;
  }
}

/* Responsive Design Adjustments */
@media (max-width: 640px) {
  .principle-card {
    @apply rounded-none border-x-0;
  }
  
  .command-interface {
    @apply rounded-none;
  }
}

/* Print Styles */
@media print {
  .no-print {
    display: none !important;
  }
  
  .principle-card,
  .command-interface {
    @apply border border-slate-300 break-inside-avoid;
  }
}

/* Accessibility Improvements */
@media (prefers-reduced-motion: reduce) {
  * {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
  }
}

/* High Contrast Mode */
@media (prefers-contrast: high) {
  .principle-card {
    @apply border-2 border-slate-900 dark:border-slate-100;
  }
  
  .nav-link {
    @apply underline;
  }
}